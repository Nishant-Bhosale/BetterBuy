"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[539],{3134:function(e,t,r){r.d(t,{Z:function(){return D}});var n=r(1413),a=r(2791),s="ProductContainer_productContainer__4IWWw",c=r(184),i=function(e){var t=e.children;return(0,c.jsx)("div",{className:s,children:t})},o=r(4165),u=r(5861),d=r(9439),l="ProductDetails_productDetails__WFbqT",p="ProductDetails_heading__5plXk",h="ProductDetails_productName__iYjDl",f="ProductDetails_productOptions__BPaKn",m="ProductDetails_addBtn__t3gel",x="ProductDetails_updateBtn__F3I1O",v="ProductDetails_editForm__YEg5s",_="ProductDetails_sold__xevGi",j=r(3463),g=r(5568),Z=r(3467),C=r(2388),P=r(7689),k=function(e){var t=e.name,r=e.price,n=e.onOwnPage,s=e.sold,i=e.forSale,k=e.productId,w=e.onCart,y=(0,a.useState)(i),N=(0,d.Z)(y,2),b=N[0],S=N[1],D=(0,a.useState)(!1),A=(0,d.Z)(D,2),I=A[0],F=A[1],O=(0,a.useState)(!1),T=(0,d.Z)(O,2),B=T[0],U=T[1],Y=(0,a.useContext)(Z.Z).user,E=(0,P.s0)(),W=function(){var e=(0,u.Z)((0,o.Z)().mark((function e(t){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),U(!0),e.prev=2,e.next=5,C.Z.put("/api/product/edit/".concat(k),{forSale:b},{headers:{"Content-Type":"application/json"}});case 5:r=e.sent,g.Am.success(r.data.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),g.Am.error(e.t0.response.data.message);case 12:return e.prev=12,U(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,u.Z)((0,o.Z)().mark((function e(){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(!0),null!==Y&&void 0!==Y&&Y.token){e.next=3;break}return e.abrupt("return",E("/login"));case 3:return e.prev=3,e.next=6,C.Z.post("/api/product/cart/".concat(k));case 6:t=e.sent,g.Am.success(t.data.message),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),g.Am.error(e.t0.response.data.message);case 14:return e.prev=14,F(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,c.jsxs)("div",{className:l,children:[(0,c.jsx)("div",{className:h,children:(0,c.jsx)("p",{children:t})}),(0,c.jsx)("div",{className:f,children:(0,c.jsxs)("p",{children:["\u20b9 ",r]})}),(0,c.jsx)(c.Fragment,{children:w?(0,c.jsx)("div",{className:_,children:s?"Sold":"Not Sold"}):n?s?(0,c.jsx)("div",{className:_,children:"Sold"}):(0,c.jsxs)(j.l0,{onSubmit:W,className:v,children:[(0,c.jsxs)(j.__,{check:!0,className:p,children:[(0,c.jsx)(j.II,{type:"checkbox",checked:b,onChange:function(){S((function(e){return!e}))}}),"For Sale"]}),(0,c.jsx)("button",{className:x,children:B?(0,c.jsx)(j.$j,{}):"Update"})]}):(0,c.jsx)("button",{className:m,title:"Add to Cart",onClick:$,children:I?(0,c.jsx)(j.$j,{}):"Add To Cart"})})]})},w="ProductImage_imageContainer__nYj1K",y=function(e){var t=e.image;return(0,c.jsx)("div",{className:w,children:(0,c.jsx)("img",{src:"data:image/*;base64,".concat(t),alt:"Product Image",width:"100%",height:"100%",style:{objectFit:"contain"}})})},N=function(e){var t=e.product,r=t.name,n=t.price,a=t.image,s=t.sold,o=t.forSale,u=t._id,d=e.onOwnPage,l=e.onCart;return(0,c.jsxs)(i,{children:[(0,c.jsx)(y,{image:a}),(0,c.jsx)(k,{name:r,price:n,sold:s,forSale:o,onOwnPage:d,productId:u,onCart:l})]})},b="ProductGrid_grid__v9pJc",S=function(e){var t=e.children,r=e.style;return(0,c.jsx)("div",{className:b,style:(0,n.Z)({},r),children:t})},D=function(e){var t=e.products,r=e.style,a=e.onOwnPage,s=e.onCart;return(0,c.jsx)(S,{style:(0,n.Z)({},r),children:t.map((function(e,t){return(0,c.jsx)(N,{product:e,onOwnPage:a,onCart:s},t)}))})}},5612:function(e,t,r){r(2791);var n=r(8322),a=r(184);t.Z=function(e){var t=e.title;return(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:"1rem"},children:[(0,a.jsx)("h2",{children:t}),(0,a.jsx)("img",{style:{margin:"auto"},src:n,alt:"No products Found",height:"50%",width:"50%"})]})}},5539:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(4165),a=r(5861),s=r(9439),c=r(2791),i=r(2388),o=r(3134),u=r(4030),d=r(5568),l="CartPage_cartPageContainer__mdUhU",p="CartPage_totalPrice__10UzC",h="CartPage_purchaseBtn__0d-ZY",f=r(3463),m=r(5612),x=r(184),v=function(){var e=(0,c.useState)(!0),t=(0,s.Z)(e,2),r=t[0],v=t[1],_=(0,c.useState)(!1),j=(0,s.Z)(_,2),g=j[0],Z=j[1],C=(0,c.useState)([]),P=(0,s.Z)(C,2),k=P[0],w=P[1],y=(0,c.useState)(0),N=(0,s.Z)(y,2),b=N[0],S=N[1],D=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/api/product/cart");case 3:t=e.sent,r=t.data.products.filter((function(e){return!1===e.sold})),w(r),a=r.reduce((function(e,t){return t.price+e}),0),S(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),d.Am.error(e.t0.response.data.message);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){D()}),[]);var A=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.prev=1,e.next=4,i.Z.post("/api/product/buy");case 4:t=e.sent,d.Am.success(t.data.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d.Am.error(e.t0.response.data.message);case 11:return e.prev=11,Z(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r?(0,x.jsx)(u.Z,{}):(0,x.jsxs)("div",{className:l,children:[!!k.length&&(0,x.jsxs)("aside",{className:p,children:[(0,x.jsxs)("p",{children:["TotalPrice:- \u20b9 ",b]}),(0,x.jsx)(f.zx,{className:h,onClick:A,children:g?(0,x.jsx)(f.$j,{}):"Purchase"})]}),k.length?(0,x.jsx)(o.Z,{products:k,onCart:!0}):(0,x.jsx)(m.Z,{title:"Cart is Empty!"})]})}},8322:function(e,t,r){e.exports=r.p+"static/media/empty_cart.763e59420e7923dd3c6d.jpg"}}]);
//# sourceMappingURL=539.108bcc58.chunk.js.map