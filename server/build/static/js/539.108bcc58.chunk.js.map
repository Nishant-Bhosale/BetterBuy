{"version":3,"file":"static/js/539.108bcc58.chunk.js","mappings":"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","sources":["webpack://client/./src/components/Product/ProductContainer/ProductContainer.module.css?22df","components/Product/ProductContainer/ProductContainer.js","webpack://client/./src/components/Product/ProductContainer/ProductDetails/ProductDetails.module.css?0860","components/Product/ProductContainer/ProductDetails/ProductDetails.js","webpack://client/./src/components/Product/ProductContainer/ProductImage/ProductImage.module.css?c652","components/Product/ProductContainer/ProductImage/ProductImage.js","components/Product/ProductCard/ProductCard.js","webpack://client/./src/components/Product/ProductGrid/ProductGrid.module.css?1030","components/Product/ProductGrid/ProductGrid.js","components/Product/ProductList/ProductList.js","components/UI/EmptyCart/EmptyCart.js","webpack://client/./src/pages/Cart/CartPage.module.css?3d8a","pages/Cart/CartPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"productContainer\":\"ProductContainer_productContainer__4IWWw\"};","import React from \"react\";\r\nimport styles from \"./ProductContainer.module.css\";\r\n\r\nconst ProductContainer = ({ children }) => {\r\n  return <div className={styles.productContainer}>{children}</div>;\r\n};\r\n\r\nexport default ProductContainer;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"productDetails\":\"ProductDetails_productDetails__WFbqT\",\"heading\":\"ProductDetails_heading__5plXk\",\"productName\":\"ProductDetails_productName__iYjDl\",\"productOptions\":\"ProductDetails_productOptions__BPaKn\",\"addBtn\":\"ProductDetails_addBtn__t3gel\",\"updateBtn\":\"ProductDetails_updateBtn__F3I1O\",\"editForm\":\"ProductDetails_editForm__YEg5s\",\"sold\":\"ProductDetails_sold__xevGi\"};","import React, { useState, useContext } from \"react\";\r\nimport styles from \"./ProductDetails.module.css\";\r\nimport { Form, Input, Label, Spinner } from \"reactstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport AuthContext from \"../../../../context/Auth/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst ProductDetails = ({\r\n  name,\r\n  price,\r\n  onOwnPage,\r\n  sold,\r\n  forSale,\r\n  productId,\r\n  onCart,\r\n}) => {\r\n  const [isForSale, setIsForSale] = useState(forSale);\r\n  const [productAddingToCart, setProductAddingToCart] = useState(false);\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const onSubmitHandler = async (e) => {\r\n    e.preventDefault();\r\n    setIsUpdating(true);\r\n    try {\r\n      const res = await axios.put(\r\n        `/api/product/edit/${productId}`,\r\n        { forSale: isForSale },\r\n        {\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n        }\r\n      );\r\n      toast.success(res.data.message);\r\n    } catch (error) {\r\n      toast.error(error.response.data.message);\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n  };\r\n\r\n  const addProductToCart = async () => {\r\n    setProductAddingToCart(true);\r\n    if (!user?.token) {\r\n      return navigate(\"/login\");\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(`/api/product/cart/${productId}`);\r\n      toast.success(res.data.message);\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(error.response.data.message);\r\n    } finally {\r\n      setProductAddingToCart(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.productDetails}>\r\n      <div className={styles.productName}>\r\n        <p>{name}</p>\r\n      </div>\r\n      <div className={styles.productOptions}>\r\n        <p>â‚¹ {price}</p>\r\n      </div>\r\n      <>\r\n        {!onCart ? (\r\n          !onOwnPage ? (\r\n            <button\r\n              className={styles.addBtn}\r\n              title=\"Add to Cart\"\r\n              onClick={addProductToCart}\r\n            >\r\n              {productAddingToCart ? <Spinner /> : \"Add To Cart\"}\r\n            </button>\r\n          ) : !sold ? (\r\n            <Form onSubmit={onSubmitHandler} className={styles.editForm}>\r\n              <Label check className={styles.heading}>\r\n                <Input\r\n                  type=\"checkbox\"\r\n                  checked={isForSale}\r\n                  onChange={() => {\r\n                    setIsForSale((prev) => !prev);\r\n                  }}\r\n                />\r\n                For Sale\r\n              </Label>\r\n              <button className={styles.updateBtn}>\r\n                {isUpdating ? <Spinner /> : \"Update\"}\r\n              </button>\r\n            </Form>\r\n          ) : (\r\n            <div className={styles.sold}>Sold</div>\r\n          )\r\n        ) : (\r\n          <div className={styles.sold}>{sold ? \"Sold\" : \"Not Sold\"}</div>\r\n        )}\r\n      </>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"imageContainer\":\"ProductImage_imageContainer__nYj1K\"};","import React from \"react\";\r\nimport styles from \"./ProductImage.module.css\";\r\n\r\nconst ProductImage = ({ image }) => {\r\n  return (\r\n    <div className={styles.imageContainer}>\r\n      <img\r\n        src={`data:image/*;base64,${image}`}\r\n        alt=\"Product Image\"\r\n        width=\"100%\"\r\n        height=\"100%\"\r\n        style={{ objectFit: \"contain\" }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductImage;\r\n","import React from \"react\";\r\nimport ProductContainer from \"../ProductContainer/ProductContainer\";\r\nimport ProductDetails from \"../ProductContainer/ProductDetails/ProductDetails\";\r\nimport ProductImage from \"../ProductContainer/ProductImage/ProductImage\";\r\n\r\nconst ProductCard = ({\r\n  product: { name, price, image, sold, forSale, _id },\r\n  onOwnPage,\r\n  onCart,\r\n}) => {\r\n  return (\r\n    <ProductContainer>\r\n      <ProductImage image={image} />\r\n      <ProductDetails\r\n        name={name}\r\n        price={price}\r\n        sold={sold}\r\n        forSale={forSale}\r\n        onOwnPage={onOwnPage}\r\n        productId={_id}\r\n        onCart={onCart}\r\n      />\r\n    </ProductContainer>\r\n  );\r\n};\r\n\r\nexport default ProductCard;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"grid\":\"ProductGrid_grid__v9pJc\"};","import React from \"react\";\r\nimport styles from \"./ProductGrid.module.css\";\r\n\r\nconst ProductGrid = ({ children, style }) => {\r\n  return (\r\n    <div className={styles.grid} style={{ ...style }}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductGrid;\r\n","import React from \"react\";\r\nimport ProductCard from \"../ProductCard/ProductCard\";\r\nimport ProductGrid from \"../ProductGrid/ProductGrid\";\r\n\r\nconst ProductList = ({ products, style, onOwnPage, onCart }) => {\r\n  return (\r\n    <ProductGrid style={{ ...style }}>\r\n      {products.map((product, idx) => {\r\n        return (\r\n          <ProductCard\r\n            product={product}\r\n            key={idx}\r\n            onOwnPage={onOwnPage}\r\n            onCart={onCart}\r\n          />\r\n        );\r\n      })}\r\n    </ProductGrid>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n","import React from \"react\";\r\nimport EmptyCartImage from \"../../../assets/empty_cart.jpg\";\r\n\r\nconst EmptyCart = ({ title }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        paddingTop: \"1rem\",\r\n      }}\r\n    >\r\n      <h2>{title}</h2>\r\n      <img\r\n        style={{ margin: \"auto\" }}\r\n        src={EmptyCartImage}\r\n        alt=\"No products Found\"\r\n        height=\"50%\"\r\n        width=\"50%\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmptyCart;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"cartPageContainer\":\"CartPage_cartPageContainer__mdUhU\",\"totalPrice\":\"CartPage_totalPrice__10UzC\",\"purchaseBtn\":\"CartPage_purchaseBtn__0d-ZY\"};","import React, { useState, useEffect, lazy } from \"react\";\r\nimport axios from \"axios\";\r\nimport ProductList from \"../../components/Product/ProductList/ProductList\";\r\nimport Loader from \"../../components/UI/Loader/Loader\";\r\nimport { toast } from \"react-toastify\";\r\nimport styles from \"./CartPage.module.css\";\r\nimport { Button, Spinner } from \"reactstrap\";\r\nimport EmptyCart from \"../../components/UI/EmptyCart/EmptyCart\";\r\n\r\nconst CartPage = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [purchasing, setPurchasing] = useState(false);\r\n  const [products, setProducts] = useState([]);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n  const getCartProducts = async () => {\r\n    try {\r\n      const res = await axios.get(\"/api/product/cart\");\r\n      const finalProducts = res.data.products.filter(\r\n        (product) => product.sold === false\r\n      );\r\n      setProducts(finalProducts);\r\n      const tempArr = finalProducts;\r\n      const total = tempArr.reduce((acc, product) => product.price + acc, 0);\r\n      setTotalPrice(total);\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(error.response.data.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCartProducts();\r\n  }, []);\r\n\r\n  const purchaseProducts = async () => {\r\n    setPurchasing(true);\r\n    try {\r\n      const res = await axios.post(\"/api/product/buy\");\r\n      toast.success(res.data.message);\r\n    } catch (error) {\r\n      toast.error(error.response.data.message);\r\n    } finally {\r\n      setPurchasing(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <Loader />;\r\n\r\n  return (\r\n    <div className={styles.cartPageContainer}>\r\n      {!!products.length && (\r\n        <aside className={styles.totalPrice}>\r\n          <p>TotalPrice:- â‚¹ {totalPrice}</p>\r\n          <Button className={styles.purchaseBtn} onClick={purchaseProducts}>\r\n            {purchasing ? <Spinner /> : \"Purchase\"}\r\n          </Button>\r\n        </aside>\r\n      )}\r\n      {!!products.length ? (\r\n        <ProductList products={products} onCart={true} />\r\n      ) : (\r\n        <EmptyCart title={\"Cart is Empty!\"} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n"],"names":["children","className","styles","name","price","onOwnPage","sold","forSale","productId","onCart","useState","isForSale","setIsForSale","productAddingToCart","setProductAddingToCart","isUpdating","setIsUpdating","user","useContext","AuthContext","navigate","useNavigate","onSubmitHandler","e","preventDefault","axios","headers","res","toast","data","message","response","addProductToCart","token","console","log","onSubmit","check","type","checked","onChange","prev","title","onClick","image","src","alt","width","height","style","objectFit","product","_id","products","map","idx","display","flexDirection","alignItems","justifyContent","paddingTop","margin","EmptyCartImage","loading","setLoading","purchasing","setPurchasing","setProducts","totalPrice","setTotalPrice","getCartProducts","finalProducts","filter","total","reduce","acc","useEffect","purchaseProducts","Loader","length","ProductList","EmptyCart"],"sourceRoot":""}